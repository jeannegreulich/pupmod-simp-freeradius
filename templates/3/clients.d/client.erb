<%
  bool2str = {
    true => 'yes',
    false => 'no'
  }
-%>
client <%= @client_name %> {
<% if @ipaddr.include?(':') then -%>
  ipv6addr = <%= @ipaddr %>
<% else -%>
  ipaddr = <%= @ipaddr %>
<% end -%>
  secret = <%= @secret %>
<% if @shortname then -%>
  shortname = <%= @shortname %>
<% end -%>
  require_message_authenticator = <%= bool2str[@require_message_authenticator] %>
<% if @nas_type then -%>
  nas_type = <%= @nas_type %>
<% end -%>
<% if @login then -%>
  login = <%= @login %>
<% end -%>
<% if @password then -%>
  password = <%= @password %>
<% end -%>
<% if @virtual_server then -%>
  virtual_server = <%= @virtual_server %>
<% end -%>
<% if @coa_server then -%>
  coa-server = <%= @coa_server %>
<% end -%>
<% if @repsonse_window then -%>
  reponse_window = <% @response_window %>
<% end -%>
<% if @proto then %>
  proto = <%= @proto %>
  <% if @proto != 'udp' then  %>
  limit {
    max_connections = <% @max_connections %>
    lifetime = <% @lifetime %>
    idle_timeout = <% @idle_timeout %>
  }
  <% end %>
<% end -%>
}
